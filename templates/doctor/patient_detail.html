{% extends "doctor/base.html" %}
{% block title %}Patient Detail{% endblock %}
{% load static %}
{% block header %}Patient: {{ patient.user.first_name }} {{ patient.user.last_name }}{% endblock %}

{% block content %}
<h4 class="mb-4"><strong>Patient Details</strong></h4>
<div class="card shadow-sm border-0">
<div class="card-header text-white" style="background :#2f4050;">
          <i class="fa-solid fa-user"></i> Basic Info
</div>
<div class="card-body">
<ul>
    <p><strong>Age:</strong> {{ patient.full_name }}</p>
    <p><strong>Age:</strong> {{ patient.age }}</p>
    <p><strong>Gender:</strong> {{ patient.gender }}</p>
    <p><strong>Phone:</strong> {{ patient.phone }}</p>
    <p><strong>Address:</strong> {{ patient.address }}</p>
</ul>
</div>
</div>
<h3 class="mb-4"><strong>Medical Records</strong></h3>
<table class="comparison-table">
    <thead>
        <tr>
            <th><i>Date</i></th>
            <th><i>Doctor</i></th>
            <th><i>Diagnosis</i></th>
            <th><i>Prescription</i></th>
        </tr>
    </thead>
    <tbody>
        {% for record in patient.medicalrecord_set.all %}
        <tr>
            <td>{{ record.created_at|date:"d M Y" }}</td>
            <td>{{ record.doctor }}</td>
            <td>{{ record.diagnosis }}</td>
            <td>{{ record.prescription }}</td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">No medical history</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
